<!DOCTYPE html>
<html lang="ru">
<head>
        <meta charset="utf-8" />
        <title>Протокол оценки точности для алгоритма поиска лесоизменений</title>
        <link rel="stylesheet" href="https://kolesovdmitry.github.io/logbook/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://kolesovdmitry.github.io/logbook/">Список всего </a></h1>
                <nav><ul>
                    <li class="active"><a href="https://kolesovdmitry.github.io/logbook/category/change-detection-accuracy.html">Change Detection, Accuracy</a></li>
                    <li><a href="https://kolesovdmitry.github.io/logbook/category/google-earthengine-tools.html">Google EarthEngine tools</a></li>
                    <li><a href="https://kolesovdmitry.github.io/logbook/category/raster-processing.html">Raster Processing</a></li>
                    <li><a href="https://kolesovdmitry.github.io/logbook/category/review.html">Review</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://kolesovdmitry.github.io/logbook/protokol-otsenki-tochnosti-dlia-algoritma-poiska-lesoizmenenii.html" rel="bookmark"
           title="Permalink to Протокол оценки точности для алгоритма поиска лесоизменений">Протокол оценки точности для алгоритма поиска лесоизменений</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2020-03-11T00:00:00+03:00">
                Published: Ср 11 марта 2020
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://kolesovdmitry.github.io/logbook/author/dmitry-kolesov.html">Dmitry Kolesov</a>
        </address>
<p>In <a href="https://kolesovdmitry.github.io/logbook/category/change-detection-accuracy.html">Change Detection, Accuracy</a>.</p>
<p>tags: <a href="https://kolesovdmitry.github.io/logbook/tag/change-detection.html">Change Detection</a> </p>
</footer><!-- /.post-info -->      <p>Здесь записано несколько мыслей, которые приходят в голову при прочтении работы, посвященной протоколу оценки точности для задачи детекции изменений
P. Olofsson, G. M. Foody, M. Herold, S. V. Stehman, C. E. Woodcock, and M. A. Wulder, "Good practices for estimating area and assessing accuracy of land change", Remote Sensing of Environment, vol. 148, pp. 42–57  (<a href="http://eprints.nottingham.ac.uk/44846/1/Olofsson_good%20practices.pdf">в сети есть препринт статьи</a>).</p>
<p>Вообще при прочтении таких работ обычно ждешь конкретики (все-же протокол предлагается), и каждый раз удивляешься тому, что авторы подробно расписывают очевидные вещи и при этом
избегают давать каких-либо конкретных рекомендаций. Тем не менее, не смотря на недостаточную конкретность,
эту работу я все-таки рекомендовал бы к прочтению - она задает несколько направлений которые необходимо прояснить для себя прежде, чем
браться за систематическую оценку точности.</p>
<p>Итак, ниже фиксируются некоторые положения, которые требуют уточнений до начала работ по оценке точности.</p>
<h2>1. С какими данными сравниваем результаты</h2>
<p>Карты изменений нужно сравнивать с какой-то справочной картой, которая принимается за истинное положение дел. </p>
<p>В нашем случае все довольно очевидно - в качестве справочника берем Sentinel-2 за соотвествующий период и используем эти снимки для сравнения с построенными картами изменений.
(У сентинеля пространственное и временное разрешение выше, чем у источников, по которым строятся наши карты изменений)</p>
<p>Что делать, когда мы будем анализировать не Landsat, а Sentinel-2 при поиске
изменений - вопрос открытый, нужно будет думать отдельно.</p>
<h2>2. Организация выборки</h2>
<p>Основные решения, которые требуется принять в нашем случае:</p>
<ul>
<li>выбор основной единицы проверки -- пиксель/полигон;</li>
<li>принцип построения выборки -- равновероятная выборка/стратифицированная выборка/систематическая выборка;</li>
</ul>
<p>Авторы цитируемой работы предлагают (как один из вариантов) использовать случайную попиксельную выборку из классов полученной карты изменений. В работе
предлагаются и другие варианты, но этот обсуждается как один из основных.</p>
<p>В нашем случае это означает: берем (а) найденные лесоизменений и (б) стабильный лес, затем генерируем выборку из этих классов и проверяем, действительно ли
пиксели выборки были классифицированы верно.</p>
<p>К сожалению, такой подход у нас может не сработать, т.к. у нас мониторинг ведется с периодом две недели, за это время почти не происходит лесоизменений
поэтому почти все пиксели будут отнесены к классу стабильных. В итоге, в случае, если алгоритм сильно ошибается в сторону пропусков лесоизменений, и почти не ошибается в сторону приписок, то вычисленная точность
получится неплохой.</p>
<p>Таким образом сейчас я склоняюсь к тому, что нужно устраивать площадные проверки -- генерировать случаные квадраты (сколько? какой площади?) находить вручную лесоизменения и затем сравнивать
полученные полигоны изменений с теми, которые выдал алгоритм. Так мы получаем гораздо больше работы, но зато и на выходе более качественная оценка.</p>
<h2>3. Различие в размерах пикселей</h2>
<p>Разрешение наших карт изменений ниже, чем разрешение данных, по которым мы должны оценивать качество детекции. В результате один пиксель с карты
изменений будет покрывать сразу несколько пикселей справочного растра, а эти пиксели (возможно) будет принадлежать разным классам.</p>
<p>Видимо, нужно оценивать не количество угаданных/не угаданных пикселей, а сначала векторизовать полигоны изменений, а затем вычислять площади пересечения полигонов,
полученных алгоритмом детекции и полигонов, полученных из справочного растра.</p>
<h2>4. Геопривязка</h2>
<p>Данные для анализа и справочные данные получены из разных источников (Landsat/Sentinel),
при этом можно попасть на то, что Landsat'ы и Sentinel'и могут "не биться" пространтвенно: может гулять геопривязка, особенно в горных районах. Соотвественно отношение пересекающихся
площадей полигонов к общей площади площадей тоже может гулять. По-хорошему нужно оценить точность привязки растров относительно друг друга прежде, чем считать точность детекции.</p>
<h2>5. Метрика точности</h2>
<p>До прочтения статьи я планировал использовать метрику Kappa, но авторы довольно сильно ее раскритиковали. К сожалению, они толком ничего не предложили взамен:
практически для каждой альтернативы, которую обсуждали авторы, можно повторить те же самые возражения, и эти возражения будут также справедливы, как и для Каппы.</p>
<p>Короче говоря -- нужно будет посмотреть, какие еще метрики точности можно использовать.</p>
<h2>6. Частота мониторинга</h2>
<p>Ситуацию усложняет то, что наша система работает круглый год и мы ожидаем, что точность ее работы должна зависеть от сезона:
детекция лесоизменений по летним данным должна давать погрешность, отличную от детекции по зимним данным или данным, полученным в межсезонье.</p>
<p>Это приводит к тому, что нужно производить оценку несколько раз для разных времен года.</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>